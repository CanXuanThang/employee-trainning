{"ast":null,"code":"import axios from 'axios';\nimport { API_PATHS } from '../../../../../../configs/api';\nimport Cookies from 'js-cookie';\nimport { ACCESS_TOKEN_KEY } from '../../../../../../utils/constants';\nimport { RESPONSE_STATUS_SUCCESS } from '../../../../../../utils/httpResponseCode';\nimport { toast } from 'react-toastify';\nexport const addEmployee = async (dataAdd, updateFileContract, uploadDocument) => {\n  const json = await axios.post(API_PATHS.employee, dataAdd, {\n    headers: {\n      Authorization: 'Bearer ' + Cookies.get(ACCESS_TOKEN_KEY)\n    }\n  });\n\n  if (updateFileContract.length > 0) {\n    const formData1 = new FormData();\n    formData1.append('employee_id', json.data.data.id);\n\n    for (let i = 0; i < updateFileContract.length; i++) {\n      formData1.append('names[]', updateFileContract[i].name);\n      formData1.append('contract_dates[]', updateFileContract[i].contract_date);\n      const file = updateFileContract[i].fileList[0];\n      formData1.append('documents[]', file, file.name);\n    }\n\n    await axios.post(API_PATHS.uploadFileContract, formData1, {\n      headers: {\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n\n  if (uploadDocument !== undefined && uploadDocument !== null && uploadDocument.length > 0) {\n    const formData2 = new FormData();\n    formData2.append('employee_id', json.data.data.id);\n\n    for (let i = 0; i < uploadDocument.length; i++) {\n      const file = uploadDocument[i].file[0];\n      formData2.append('documents[]', file, file.name);\n    }\n\n    await axios.post(API_PATHS.uploadDocument, formData2, {\n      headers: {\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n\n  if (json.status === RESPONSE_STATUS_SUCCESS) {\n    toast.success('Success message');\n  }\n};\nexport const updateEmployee = async (number, dataUpdate, deleteDocument, updateFileContract, uploadDocument) => {\n  const json = await axios.put(`${API_PATHS.employee}/${number}`, dataUpdate, {\n    headers: {\n      Authorization: 'Bearer ' + Cookies.get(ACCESS_TOKEN_KEY)\n    }\n  });\n\n  if (updateFileContract.length > 0) {\n    const formData1 = new FormData();\n    formData1.append('employee_id', number);\n\n    for (let i = 0; i < updateFileContract.length; i++) {\n      formData1.append('names[]', updateFileContract[i].name);\n      formData1.append('contract_dates[]', updateFileContract[i].contract_date);\n      const file = updateFileContract[i].fileList[0];\n      formData1.append('documents[]', file, file.name);\n    }\n\n    await axios.post(API_PATHS.uploadFileContract, formData1, {\n      headers: {\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n\n  const formData1 = new FormData();\n  formData1.append('employee_id', number);\n\n  if (deleteDocument.length > 0) {\n    for (let i = 0; i < deleteDocument.length; i++) {\n      formData1.append('deleted_ids[]', deleteDocument[i]);\n    }\n  }\n\n  if (uploadDocument.length > 0) {\n    for (let i = 0; i < updateFileContract.length; i++) {\n      const file = uploadDocument[i].file[0];\n      formData1.append('documents[]', file, file.name);\n    }\n  }\n\n  await axios.post(API_PATHS.uploadDocument, formData1, {\n    headers: {\n      Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n\n  if (json.status === RESPONSE_STATUS_SUCCESS) {\n    toast.success('Success message');\n  }\n};","map":{"version":3,"sources":["C:/Users/thang/Downloads/Employee/src/modules/auth/pages/employeeManagement/layouts/header/employee.ts"],"names":["axios","API_PATHS","Cookies","ACCESS_TOKEN_KEY","RESPONSE_STATUS_SUCCESS","toast","addEmployee","dataAdd","updateFileContract","uploadDocument","json","post","employee","headers","Authorization","get","length","formData1","FormData","append","data","id","i","name","contract_date","file","fileList","uploadFileContract","undefined","formData2","status","success","updateEmployee","number","dataUpdate","deleteDocument","put"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { API_PATHS } from '../../../../../../configs/api';\r\nimport Cookies from 'js-cookie';\r\nimport { ACCESS_TOKEN_KEY } from '../../../../../../utils/constants';\r\nimport { RESPONSE_STATUS_SUCCESS } from '../../../../../../utils/httpResponseCode';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const addEmployee = async (dataAdd: any, updateFileContract: any, uploadDocument: any) => {\r\n  const json = await axios.post(API_PATHS.employee, dataAdd, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookies.get(ACCESS_TOKEN_KEY),\r\n    },\r\n  });\r\n\r\n  if (updateFileContract.length > 0) {\r\n    const formData1 = new FormData();\r\n    formData1.append('employee_id', json.data.data.id);\r\n    for (let i = 0; i < updateFileContract.length; i++) {\r\n      formData1.append('names[]', updateFileContract[i].name);\r\n      formData1.append('contract_dates[]', updateFileContract[i].contract_date);\r\n      const file = updateFileContract[i].fileList[0];\r\n      formData1.append('documents[]', file, file.name);\r\n    }\r\n    await axios.post(API_PATHS.uploadFileContract, formData1, {\r\n      headers: {\r\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  }\r\n\r\n  if (uploadDocument !== undefined && uploadDocument !== null && uploadDocument.length > 0) {\r\n    const formData2 = new FormData();\r\n    formData2.append('employee_id', json.data.data.id);\r\n    for (let i = 0; i < uploadDocument.length; i++) {\r\n      const file = uploadDocument[i].file[0];\r\n      formData2.append('documents[]', file, file.name);\r\n    }\r\n\r\n    await axios.post(API_PATHS.uploadDocument, formData2, {\r\n      headers: {\r\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  }\r\n\r\n  if (json.status === RESPONSE_STATUS_SUCCESS) {\r\n    toast.success('Success message');\r\n  }\r\n};\r\n\r\nexport const updateEmployee = async (\r\n  number: any,\r\n  dataUpdate: any,\r\n  deleteDocument: any,\r\n  updateFileContract: any,\r\n  uploadDocument: any,\r\n) => {\r\n  const json = await axios.put(`${API_PATHS.employee}/${number}`, dataUpdate, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + Cookies.get(ACCESS_TOKEN_KEY),\r\n    },\r\n  });\r\n\r\n  if (updateFileContract.length > 0) {\r\n    const formData1 = new FormData();\r\n    formData1.append('employee_id', number);\r\n    for (let i = 0; i < updateFileContract.length; i++) {\r\n      formData1.append('names[]', updateFileContract[i].name);\r\n      formData1.append('contract_dates[]', updateFileContract[i].contract_date);\r\n      const file = updateFileContract[i].fileList[0];\r\n      formData1.append('documents[]', file, file.name);\r\n    }\r\n    await axios.post(API_PATHS.uploadFileContract, formData1, {\r\n      headers: {\r\n        Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  }\r\n\r\n  const formData1 = new FormData();\r\n  formData1.append('employee_id', number);\r\n  if (deleteDocument.length > 0) {\r\n    for (let i = 0; i < deleteDocument.length; i++) {\r\n      formData1.append('deleted_ids[]', deleteDocument[i]);\r\n    }\r\n  }\r\n  if (uploadDocument.length > 0) {\r\n    for (let i = 0; i < updateFileContract.length; i++) {\r\n      const file = uploadDocument[i].file[0];\r\n      formData1.append('documents[]', file, file.name);\r\n    }\r\n  }\r\n  await axios.post(API_PATHS.uploadDocument, formData1, {\r\n    headers: {\r\n      Authorization: `Bearer ${Cookies.get(ACCESS_TOKEN_KEY)}`,\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n\r\n  if (json.status === RESPONSE_STATUS_SUCCESS) {\r\n    toast.success('Success message');\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thang\\\\Downloads\\\\Employee\\\\src\\\\modules\\\\auth\\\\pages\\\\employeeManagement\\\\layouts\\\\addEmployee\\\\options\\\\forms\\\\others\\\\TableUpdate.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport '../../../../table/Table.scss';\nimport { Button } from '@mui/material';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport { useDispatch } from 'react-redux';\nimport { setDeleteDocument } from '../../../../../../../redux/employeeReducer';\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  id: 'no',\n  label: 'No',\n  minWidth: 20\n}, {\n  id: 'document_name',\n  label: 'Document Name',\n  minWidth: 315\n}, {\n  id: 'create_at',\n  label: 'Create At',\n  minWidth: 315\n}, {\n  id: 'action',\n  label: 'Action',\n  minWidth: 315\n}];\nexport default function TableUpdate({\n  data,\n  setData,\n  dataTableGetApi\n}) {\n  _s();\n\n  function createData(no, document_name, create_at, action) {\n    return {\n      no,\n      document_name,\n      create_at,\n      action\n    };\n  }\n\n  const [idDelete, setIdDelete] = React.useState([]);\n  const dispatch = useDispatch();\n  const [a, setA] = React.useState({\n    no: '',\n    name: '',\n    date: '',\n    id: ''\n  });\n  const [b, setB] = React.useState([]);\n  const dataTable = dataTableGetApi.map((item, index) => {\n    const date = new Date(item.created_at);\n    const formattedDate = date.toISOString().split('T')[0]; // setA({\n    //   ...a,\n    //   no: data !== undefined ? data.length + index + 1 : index + 1,\n    //   name: item.document.substring(item.document.lastIndexOf('/') + 1),\n    //   date: formattedDate,\n    //   id: item.id,\n    // });\n\n    return {\n      no: data !== undefined ? data.length + index + 1 : index + 1,\n      name: item.document.substring(item.document.lastIndexOf('/') + 1),\n      date: formattedDate,\n      id: item.id\n    };\n  });\n  React.useEffect(() => {\n    setB(dataTable);\n  }, [dataTable]);\n  const rows = data && data.map((item, index) => createData(index + 1, item.file[0].name, item.date, index));\n  const datas = dataTable.length > 0 && dataTable.map(item => createData(item.no, item.name, item.date, item.id));\n\n  const handleDelete = index => {\n    const newDataTable = [...data];\n    newDataTable.splice(index, 1);\n    setData(newDataTable);\n  };\n\n  const handleDeleteId = e => {\n    const id = e.currentTarget.value;\n    setIdDelete([...idDelete, Number(id)]);\n  };\n\n  React.useEffect(() => {\n    dispatch(setDeleteDocument(idDelete));\n  }, [idDelete, dispatch]);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      width: '100%',\n      overflow: 'hidden',\n      padding: '0 20px 20px 20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      sx: {\n        maxHeight: '225px',\n        minHeight: '225px',\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        stickyHeader: true,\n        \"aria-label\": \"sticky table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n              style: {\n                minWidth: column.minWidth,\n                textAlign: 'center'\n              },\n              children: column.label\n            }, column.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: [rows && rows.map((row, index) => {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              role: \"checkbox\",\n              tabIndex: -1,\n              children: columns.map(column => {\n                const value = row[column.id];\n\n                if (column.id === 'action') {\n                  return /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"text\",\n                      color: \"error\",\n                      sx: {\n                        backgroundColor: 'rgb(255, 239, 239)',\n                        textTransform: 'none',\n                        padding: '0 12px',\n                        minWidth: '40px'\n                      },\n                      onClick: () => handleDelete(index),\n                      children: [/*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 31\n                      }, this), \" Delete\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 29\n                    }, this)\n                  }, column.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 27\n                  }, this);\n                } else {\n                  return /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: value\n                  }, column.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 32\n                  }, this);\n                }\n              })\n            }, row.no, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this);\n          }), datas && datas.map((row, index) => {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              role: \"checkbox\",\n              tabIndex: -1,\n              children: columns.map(column => {\n                const value = row[column.id];\n\n                if (column.id === 'action') {\n                  return /*#__PURE__*/_jsxDEV(TableCell, {\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      padding: 0,\n                      borderBottom: 'none'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"text\",\n                      color: \"success\",\n                      sx: {\n                        backgroundColor: 'rgb(233, 249, 238)',\n                        textTransform: 'none',\n                        padding: '0 12px',\n                        minWidth: '40px'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(FileDownloadIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"text\",\n                      color: \"error\",\n                      sx: {\n                        backgroundColor: 'rgb(255, 239, 239)',\n                        textTransform: 'none',\n                        padding: '0 12px',\n                        minWidth: '40px'\n                      },\n                      value: value,\n                      onClick: handleDeleteId,\n                      children: /*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 29\n                    }, this)]\n                  }, column.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 27\n                  }, this);\n                } else {\n                  return /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: value\n                  }, column.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 32\n                  }, this);\n                }\n              })\n            }, row.no, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TableUpdate, \"Cn3lqmbqmX7Q6+jJqoKHWA3+J1Q=\", false, function () {\n  return [useDispatch];\n});\n\n_c = TableUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableUpdate\");","map":{"version":3,"sources":["C:/Users/thang/Downloads/Employee/src/modules/auth/pages/employeeManagement/layouts/addEmployee/options/forms/others/TableUpdate.tsx"],"names":["React","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","DeleteOutlineIcon","useDispatch","setDeleteDocument","FileDownloadIcon","columns","id","label","minWidth","TableUpdate","data","setData","dataTableGetApi","createData","no","document_name","create_at","action","idDelete","setIdDelete","useState","dispatch","a","setA","name","date","b","setB","dataTable","map","item","index","Date","created_at","formattedDate","toISOString","split","undefined","length","document","substring","lastIndexOf","useEffect","rows","file","datas","handleDelete","newDataTable","splice","handleDeleteId","e","currentTarget","value","Number","width","overflow","padding","maxHeight","minHeight","column","textAlign","row","backgroundColor","textTransform","display","justifyContent","borderBottom"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport Paper from '@mui/material/Paper';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport '../../../../table/Table.scss';\r\nimport { Button } from '@mui/material';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppState } from '../../../../../../../../../redux/reducer';\r\nimport { Action } from 'typesafe-actions';\r\nimport { setDeleteDocument } from '../../../../../../../redux/employeeReducer';\r\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\r\n\r\ninterface Column {\r\n  id: 'no' | 'document_name' | 'create_at' | 'action';\r\n  label: string;\r\n  minWidth?: number;\r\n}\r\n\r\nconst columns: readonly Column[] = [\r\n  { id: 'no', label: 'No', minWidth: 20 },\r\n  { id: 'document_name', label: 'Document Name', minWidth: 315 },\r\n  {\r\n    id: 'create_at',\r\n    label: 'Create At',\r\n    minWidth: 315,\r\n  },\r\n  {\r\n    id: 'action',\r\n    label: 'Action',\r\n    minWidth: 315,\r\n  },\r\n];\r\n\r\ninterface Data {\r\n  no: number;\r\n  document_name: string;\r\n  create_at: string;\r\n  action: number;\r\n}\r\n\r\ninterface Props {\r\n  data: any;\r\n  setData: any;\r\n  dataTableGetApi?: any;\r\n}\r\n\r\nexport default function TableUpdate({ data, setData, dataTableGetApi }: Props) {\r\n  function createData(no: number, document_name: string, create_at: string, action: any): Data {\r\n    return { no, document_name, create_at, action };\r\n  }\r\n  const [idDelete, setIdDelete] = React.useState<any>([]);\r\n  const dispatch = useDispatch<ThunkDispatch<AppState, null, Action<string>>>();\r\n  const [a, setA] = React.useState<any>({\r\n    no: '',\r\n    name: '',\r\n    date: '',\r\n    id: '',\r\n  });\r\n  const [b, setB] = React.useState<any>([]);\r\n\r\n  const dataTable = dataTableGetApi.map((item: any, index: number) => {\r\n    const date = new Date(item.created_at);\r\n    const formattedDate = date.toISOString().split('T')[0];\r\n    // setA({\r\n    //   ...a,\r\n    //   no: data !== undefined ? data.length + index + 1 : index + 1,\r\n    //   name: item.document.substring(item.document.lastIndexOf('/') + 1),\r\n    //   date: formattedDate,\r\n    //   id: item.id,\r\n    // });\r\n    return {\r\n      no: data !== undefined ? data.length + index + 1 : index + 1,\r\n      name: item.document.substring(item.document.lastIndexOf('/') + 1),\r\n      date: formattedDate,\r\n      id: item.id,\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    setB(dataTable);\r\n  }, [dataTable]);\r\n\r\n  const rows =\r\n    data && data.map((item: any, index: number) => createData(index + 1, item.file[0].name, item.date, index));\r\n  const datas =\r\n    dataTable.length > 0 && dataTable.map((item: any) => createData(item.no, item.name, item.date, item.id));\r\n\r\n  const handleDelete = (index: number) => {\r\n    const newDataTable = [...data];\r\n    newDataTable.splice(index, 1);\r\n    setData(newDataTable);\r\n  };\r\n\r\n  const handleDeleteId = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    const id = e.currentTarget.value;\r\n    setIdDelete([...idDelete, Number(id)]);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    dispatch(setDeleteDocument(idDelete));\r\n  }, [idDelete, dispatch]);\r\n\r\n  return (\r\n    <Paper sx={{ width: '100%', overflow: 'hidden', padding: '0 20px 20px 20px' }}>\r\n      <TableContainer sx={{ maxHeight: '225px', minHeight: '225px', width: '100%' }}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.id} style={{ minWidth: column.minWidth, textAlign: 'center' }}>\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows &&\r\n              rows.map((row: any, index: number) => {\r\n                return (\r\n                  <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.no}>\r\n                    {columns.map((column) => {\r\n                      const value = row[column.id];\r\n\r\n                      if (column.id === 'action') {\r\n                        return (\r\n                          <TableCell key={column.id}>\r\n                            <Button\r\n                              variant=\"text\"\r\n                              color=\"error\"\r\n                              sx={{\r\n                                backgroundColor: 'rgb(255, 239, 239)',\r\n                                textTransform: 'none',\r\n                                padding: '0 12px',\r\n                                minWidth: '40px',\r\n                              }}\r\n                              onClick={() => handleDelete(index)}\r\n                            >\r\n                              <DeleteOutlineIcon /> Delete\r\n                            </Button>\r\n                          </TableCell>\r\n                        );\r\n                      } else {\r\n                        return <TableCell key={column.id}>{value}</TableCell>;\r\n                      }\r\n                    })}\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            {datas &&\r\n              datas.map((row: any, index: number) => {\r\n                return (\r\n                  <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.no}>\r\n                    {columns.map((column) => {\r\n                      const value = row[column.id];\r\n\r\n                      if (column.id === 'action') {\r\n                        return (\r\n                          <TableCell\r\n                            key={column.id}\r\n                            sx={{ display: 'flex', justifyContent: 'center', padding: 0, borderBottom: 'none' }}\r\n                          >\r\n                            <Button\r\n                              variant=\"text\"\r\n                              color=\"success\"\r\n                              sx={{\r\n                                backgroundColor: 'rgb(233, 249, 238)',\r\n                                textTransform: 'none',\r\n                                padding: '0 12px',\r\n                                minWidth: '40px',\r\n                              }}\r\n                            >\r\n                              <FileDownloadIcon />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"text\"\r\n                              color=\"error\"\r\n                              sx={{\r\n                                backgroundColor: 'rgb(255, 239, 239)',\r\n                                textTransform: 'none',\r\n                                padding: '0 12px',\r\n                                minWidth: '40px',\r\n                              }}\r\n                              value={value}\r\n                              onClick={handleDeleteId}\r\n                            >\r\n                              <DeleteOutlineIcon />\r\n                            </Button>\r\n                          </TableCell>\r\n                        );\r\n                      } else {\r\n                        return <TableCell key={column.id}>{value}</TableCell>;\r\n                      }\r\n                    })}\r\n                  </TableRow>\r\n                );\r\n              })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Paper>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}